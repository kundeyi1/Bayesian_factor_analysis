pandas
numpy



































































































































































如有问题或建议，请提交 Issue。## 联系方式本项目仅供学习研究使用。## 许可证- **核心逻辑**：贝叶斯推断- **滤波算法**：Filterpy (Kalman Filter)- **可视化**：Plotly- **数据源**：Tushare Pro API- **数据处理**：Pandas、NumPy- **前端框架**：Streamlit## 技术架构   - 在 `.gitignore` 中排除包含敏感信息的文件   - 使用 Streamlit Cloud 的 Secrets 功能或环境变量   - 不要将 Token 硬编码在代码中4. **GitHub 部署**   - 首次加载数据可能需要较长时间   - 需要稳定的网络连接以访问 Tushare API3. **网络连接**   - 积分用户可提升调用频次   - Tushare 免费版有调用频次限制2. **数据频次限制**   - 重启应用后环境变量才会生效   - 必须设置 `TUSHARE_TOKEN` 环境变量1. **环境变量设置**## 注意事项```(df['一阶导数'] < 0) & (df['差分1'] > 0.01)# 组合条件df['移动平均5'] > df['移动平均10']# 移动平均金叉df['一阶导数'] < 0# 一阶导数为负```python**示例：**在"策略逻辑"文本框中输入 Python 表达式，使用 `df` 引用特征数据。## 策略逻辑表达式- 包含字段：开盘、收盘、最高、最低、成交量、成交额- 默认起始日期：2014-01-01- 数据源：`pro.index_daily()` - 指数日线行情### 指数数据（Tushare API）- 包含字段：开盘、收盘、最高、最低、成交量、成交额- 默认起始日期：2014-01-01- 数据源：`pro.daily()` - 股票日线行情### 股票数据（Tushare API）## 数据说明   - 查看可视化结果   - 系统自动执行特征工程和回测计算   - 点击"🚀 执行回测分析"按钮5. **执行回测**   - 策略逻辑表达式   - 目标超额收益   - 持有期、观察期   - 特征工程算子（移动平均、差分、导数等）   - 卡尔曼滤波开关4. **配置参数**   - 上证指数（000001.SH）   - 中证500（000905.SH）   - 沪深300（000300.SH）3. **选择基准指数**   - 沪市：`.SH`，深市：`.SZ`   - 示例：`601919.SH`（中国神华）   - 格式：`股票代码.交易所`2. **输入股票代码**   - 数据应包含日期列和至少一列数值数据   - 支持 Excel (.xlsx, .xls) 和 CSV (.csv) 格式1. **上传因子数据**### 操作步骤```streamlit run app.py```bash### 启动应用## 使用方法4. 将 Token 设置为环境变量3. 在个人中心获取 Token2. 注册账号并登录1. 访问 [Tushare 官网](https://tushare.pro/)### 3. 获取 Tushare Token```source ~/.bashrcecho 'export TUSHARE_TOKEN="你的Token"' >> ~/.bashrc# 添加到 ~/.bashrc 或 ~/.zshrc```bash**永久设置：**```export TUSHARE_TOKEN="你的Tushare Token"```bash**临时设置：**#### Linux/Mac 系统```[System.Environment]::SetEnvironmentVariable('TUSHARE_TOKEN', '你的Token', 'User')# 方法2：通过 PowerShell 设置#    变量值: 你的Tushare Token#    变量名: TUSHARE_TOKEN# 3. 新建用户变量：# 2. 高级 -> 环境变量# 1. Win+R 输入 sysdm.cpl# 方法1：通过系统环境变量界面设置```powershell**永久设置（推荐）：**```$env:TUSHARE_TOKEN="你的Tushare Token"```powershell**临时设置（当前终端会话有效）：**#### Windows 系统### 2. 配置 Tushare Token```pip install -r requirements.txt```bash### 1. 安装依赖## 环境配置- ✅ 交互式可视化回测结果- ✅ 贝叶斯概率择时分析- ✅ 卡尔曼滤波特征工程- ✅ Tushare 实时股票和指数数据获取- ✅ 因子数据上传（支持 Excel、CSV 格式）## 功能特性基于 Tushare 数据接口的量化回测系统，使用贝叶斯推断进行择时分析。matplotlib
filterpy
openpyxl
streamlit
seaborn
plotly
tushare
